##### 如何做CR(code review)
1. 名词解释
   cr: code review
   cl: change list
   reviewer: the one who reviews your code
   nit: nitpick 鸡蛋里挑骨头
2. cr 标准
   1. 开发人员必须在自己负责的任务上有所进展
   2. reviewer要确保整个代码库的整体代码质量不会越来越差（随着时间的推移，代码需要降级才能运行起来，特别是团队收到严重的时间限制时）
   3. reviewer对他们review的代码拥有所有权合作责任，确保代码保持一致、可维护。
   4. reviewer应该追求持续改进而不应该过分挑剔。可以在评论钱加上nit:前缀，表示这是一个可以忽略的修饰点。
3. 原则
   1. 团队代码风格是绝对的权威，在团队中不能有明显的个人喜好和个人风格。
4. 解决冲突
   1. 当开发者与reviewer存在意见不一致时，应该面对面的进行交流，而不是试图通过cr的注释来解决。
   2. 如果不能解决问题，最常见的方法就是升级。通常情况下，升级的途径是进行更广泛的团队讨论。
5. 在CR中需要关注什么
   1. 设计
      1. 多维度的评价这次更改的总体设计
   2. 功能
      1. 完成基本功能了吗？
      2. 寻找可能存在的issue
   3. 复杂性
      1. 是够超过预期的必须
      2. 复杂代表很难阅读，也意味着其他开发者在修改这段代码是可能引入他的bug
      3. 避免过度设计。开发者应该解决他们现在要解决的问题，而不是推测将来可能要解决的问题。
      4. Donald Knuth说过：过早的优化是万恶之源(Premature optimization is the root of all evil)
   4. 测试
      1. 单元测试、整合测试、端到端测试
      2. 是否是合理的、正确的、有用的
   5. 命名
   6. 注释
      1. 复杂代码和复杂逻辑有必要添加注释解释这段代码在做什么，如正则
      2. 一个方法也应添加注释，解释函数目的、入参、出参等
      3. 注释要清晰且有用，并只用来解释why而非what
   7. 风格
      1. 开发者不应该在CL内同时包含风格的修改和其他代码的修改，这样会导致难以看出CL到底在做出什么改动，同时也让合并和回滚变复杂。如果想要重新格式化代码，应该在一个新的CL中重构。
   8. 文档
      1. 如果CL更改了构建、测试、交互、发布的时候，也检查是否同时更新的相关文档，如readme等
   9. 每一行代码
   10. 上下文
       1. 查看整个上下文以确保改动是否合理
       2. 以整个系统的角度出发，勘察是否增加了不必要的复杂度
   
![alt 如何code review 思维导图](https://github.com/EarlyBirdss/FrontEnd-Notes/blob/feature-general/images/how_to_do_code_review.png)

2019.10.15